[{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\AddTask.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\AddTaskSidebar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\Header.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\Sidebar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\SortFilter.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\StatsDashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\TaskForm.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\TaskItem.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\TaskList.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\ThemeToggle.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\components\\Toast.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\context\\TaskContext.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"useContext"},"fix":{"range":[29,41],"text":""},"desc":"Remove unused variable 'useContext'."}]},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":5,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":5,"endColumn":25}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\nimport { useNotifications } from '../hooks/useNotifications';\r\n\r\nexport const TaskContext = createContext();\r\n\r\nconst initialState = {\r\n  tasks: [],\r\n  filter: 'all',        // 'all', 'active', 'completed'\r\n  sortBy: 'date',       // 'date', 'priority'\r\n  sortOrder: 'asc',     // 'asc', 'desc'\r\n  toasts: [],           // [{ id, message, type }]\r\n  searchTerm: '',\r\n};\r\n\r\nconst MAX_STORAGE_BYTES = 4 * 1024 * 1024; // 4MB Limit\r\n\r\nfunction taskReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'ADD_TOAST':\r\n      return { ...state, toasts: [...state.toasts, { id: Date.now(), ...action.payload }] };\r\n    case 'REMOVE_TOAST':\r\n      return { ...state, toasts: state.toasts.filter(t => t.id !== action.payload) };\r\n    case 'SET_TASKS':\r\n      return { ...state, tasks: action.payload };\r\n    case 'ADD_TASK':\r\n      return { ...state, tasks: [...state.tasks, action.payload] };\r\n    case 'UPDATE_TASK':\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.map((task) =>\r\n          task.id === action.payload.id ? { ...task, ...action.payload } : task\r\n        ),\r\n      };\r\n    case 'DELETE_TASK':\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.filter((task) => task.id !== action.payload),\r\n      };\r\n    case 'TOGGLE_COMPLETE':\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.map((task) =>\r\n          task.id === action.payload\r\n            ? { ...task, completed: !task.completed }\r\n            : task\r\n        ),\r\n      };\r\n    case 'TOGGLE_PIN':\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.map((task) =>\r\n          task.id === action.payload\r\n            ? { ...task, pinned: !task.pinned }\r\n            : task\r\n        ),\r\n      };\r\n    case 'SET_FILTER':\r\n      return { ...state, filter: action.payload };\r\n    case 'SET_SORT':\r\n      return { ...state, sortBy: action.payload.sortBy, sortOrder: action.payload.sortOrder };\r\n    case 'SET_SEARCH':\r\n      return { ...state, searchTerm: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const TaskProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(taskReducer, initialState);\r\n  const { storedValue: storedTasks, setValue: setStoredTasks } = useLocalStorage('tasks', []);\r\n\r\n  // Sync localStorage with state.tasks\r\n  useEffect(() => {\r\n    if (storedTasks && storedTasks.length > 0) {\r\n      dispatch({ type: 'SET_TASKS', payload: storedTasks });\r\n    }\r\n  }, [storedTasks]);\r\n\r\n  // Storage Monitor & Pruning Logic\r\n  useEffect(() => {\r\n    const dataString = JSON.stringify(state.tasks);\r\n    const sizeInBytes = new Blob([dataString]).size;\r\n\r\n    // Auto-pruning if nearing 4MB limit\r\n    if (sizeInBytes >= MAX_STORAGE_BYTES) {\r\n      console.warn('Storage limit approaching. Pruning oldest tasks...');\r\n      // Keep pinned tasks and 50 most recent tasks\r\n      const sortedByAge = [...state.tasks].sort((a, b) => a.id - b.id);\r\n      const toKeep = sortedByAge.slice(Math.floor(sortedByAge.length * 0.2)); // Remove oldest 20%\r\n      dispatch({ type: 'SET_TASKS', payload: toKeep });\r\n    }\r\n\r\n    setStoredTasks(state.tasks);\r\n  }, [state.tasks, setStoredTasks]);\r\n\r\n  // Notifications for due tasks\r\n  useNotifications(state.tasks);\r\n\r\n  return (\r\n    <TaskContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </TaskContext.Provider>\r\n  );\r\n};\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\context\\ThemeContext.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useContext' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"useContext"},"fix":{"range":[29,41],"text":""},"desc":"Remove unused variable 'useContext'."}]},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Move your React context(s) to a separate file.","line":3,"column":14,"nodeType":"Identifier","messageId":"reactContext","endLine":3,"endColumn":26}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from 'react';\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    const saved = localStorage.getItem('darkMode');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('darkMode', JSON.stringify(darkMode));\r\n    if (darkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [darkMode]);\r\n\r\n  const toggleDarkMode = () => setDarkMode((prev) => !prev);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ darkMode, toggleDarkMode }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\hooks\\useLocalStorage.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\hooks\\useNotifications.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\hooks\\useTasks.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\hooks\\useTheme.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\utils\\dateUtils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alina\\Desktop\\ToDoApp\\my-app\\src\\utils\\priorityUtils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
